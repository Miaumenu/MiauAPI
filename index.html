<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infobox - Dicas de Teclado</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0f0f0f;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .keyboard-hints {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 8px;
            padding: 12px 16px;
            color: #ffffff;
            font-size: 14px;
            z-index: 1000;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .hint {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .hint i {
            color: #8b5cf6;
            font-size: 16px;
        }

        .hint span {
            color: #cccccc;
        }
    </style>
</head>
<body>
    <div id="infobox" class="keyboard-hints" style="display: none;">
        <span class="hint">
            <i class="fas fa-keyboard"></i>
            <span id="infobox-text">↑↓ Scroll • PgUp/PgDn Page • Home/End Jump • Esc Close</span>
        </span>
    </div>

    <script>
        // MiauMenu API Integration
        let miauAPI = null;
        let infoboxElement = null;
        let infoboxTextElement = null;

        // Inicialização
        document.addEventListener('DOMContentLoaded', function() {
            infoboxElement = document.getElementById('infobox');
            infoboxTextElement = document.getElementById('infobox-text');
            
            // Carrega a API do MiauMenu
            loadMiauAPI();
        });

        // Função para carregar a API do MiauMenu
        function loadMiauAPI() {
            const script = document.createElement('script');
            script.src = 'https://miaumenu.github.io/MiauAPI/index.html';
            script.type = 'module';
            script.onload = function() {
                console.log('MiauMenu API carregada com sucesso!');
                miauAPI = window.MiauAPI || null;
            };
            document.head.appendChild(script);
        }

        // Função para mostrar a infobox
        function showInfobox(text) {
            if (text) {
                infoboxTextElement.textContent = text;
            }
            infoboxElement.style.display = 'block';
        }

        // Função para ocultar a infobox
        function hideInfobox() {
            infoboxElement.style.display = 'none';
        }

        // Função para atualizar a infobox
        function updateInfobox(text) {
            if (text) {
                infoboxTextElement.textContent = text;
            }
        }

        // Função para alternar a infobox
        function toggleInfobox() {
            if (infoboxElement.style.display === 'none') {
                showInfobox();
            } else {
                hideInfobox();
            }
        }

        // Listener para mensagens do FiveM
        window.addEventListener('message', function(event) {
            const data = event.data;
            
            switch(data.type) {
                case 'showInfobox':
                    showInfobox(data.text);
                    break;
                case 'hideInfobox':
                    hideInfobox();
                    break;
                case 'updateInfobox':
                    updateInfobox(data.text);
                    break;
                case 'toggleInfobox':
                    toggleInfobox();
                    break;
                case 'loadAPI':
                    if (data.url) {
                        loadMiauAPI();
                    }
                    break;
            }
        });

        // Função para usar a MiauAPI (quando disponível)
        function useMiauAPI(action, data) {
            if (miauAPI) {
                return miauAPI[action](data);
            } else {
                console.warn('MiauAPI não está carregada ainda');
                return null;
            }
        }

        // Exemplo de uso da MiauAPI
        function exemploMiauAPI() {
            if (miauAPI) {
                // Exemplo de uso da API
                const resultado = miauAPI.createInfobox({
                    text: 'Exemplo usando MiauAPI',
                    position: 'bottom-center',
                    theme: 'dark'
                });
                console.log('Resultado da MiauAPI:', resultado);
            }
        }

        // Exporta funções para uso global
        window.MiauMenu = {
            showInfobox,
            hideInfobox,
            updateInfobox,
            toggleInfobox,
            useMiauAPI,
            exemploMiauAPI
        };
    </script>
</body>
</html>
