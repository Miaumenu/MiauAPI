<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infobox Notifications</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background: transparent;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
        }

        /* Container Principal das Notificações */
        .notifications-container {
            position: fixed;
            top: 50px;
            right: 20px;
            width: 260px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        /* Card de Notificação */
        .notification-card {
            position: relative;
            width: 248px;
            min-height: 58px;
            padding: 8px 12px 8px 16px;
            border-radius: 7px;
            background: linear-gradient(97.75deg, rgba(47, 47, 47, 0.1911) -3.82%, rgba(0, 170, 255, 0.1407) 104.72%);
            border: 1px solid rgba(0, 170, 255, 0.61);
            box-shadow: 0px 0px 4px 2px rgba(0, 170, 255, 0.25);
            backdrop-filter: blur(10px);
            animation: slideInRight 0.3s ease-out;
            transition: all 0.3s ease;
        }

        /* Barra Lateral Colorida */
        .notification-bar {
            position: absolute;
            left: 4px;
            top: 6px;
            width: 3px;
            height: 46px;
            border-radius: 7px;
            box-shadow: 0px 0px 4px 2px rgba(0, 170, 255, 0.61);
        }

        /* Conteúdo da Notificação */
        .notification-content {
            margin-left: 8px;
        }

        .notification-title {
            font-weight: 700;
            font-size: 11px;
            line-height: 13px;
            letter-spacing: -0.02em;
            margin-bottom: 2px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .notification-message {
            font-weight: 600;
            font-size: 10px;
            line-height: 12px;
            letter-spacing: -0.02em;
            color: #FFFFFF;
            word-wrap: break-word;
        }

        /* Ícones */
        .notification-icon {
            width: 12px;
            height: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
        }

        /* Tipos de Notificação */
        .notification-success {
            background: linear-gradient(97.75deg, rgba(47, 47, 47, 0.1911) -3.82%, rgba(17, 255, 0, 0.1407) 104.72%);
            border: 1px solid rgba(17, 255, 0, 0.61);
            box-shadow: 0px 0px 4px 2px rgba(17, 255, 0, 0.25);
        }
        .notification-success .notification-bar {
            background: #11FF00;
            box-shadow: 0px 0px 4px 2px rgba(17, 255, 0, 0.25);
        }

        .notification-error {
            background: linear-gradient(97.75deg, rgba(47, 47, 47, 0.1911) -3.82%, rgba(255, 0, 0, 0.1407) 104.72%);
            border: 1px solid rgba(255, 0, 0, 0.61);
            box-shadow: 0px 0px 4px 2px rgba(255, 0, 0, 0.25);
        }
        .notification-error .notification-bar {
            background: #FF0000;
            box-shadow: 0px 0px 4px 2px rgba(255, 0, 0, 0.25);
        }

        .notification-warning {
            background: linear-gradient(97.75deg, rgba(47, 47, 47, 0.1911) -3.82%, rgba(238, 255, 0, 0.1407) 104.72%);
            border: 1px solid rgba(238, 255, 0, 0.61);
            box-shadow: 0px 0px 4px 2px rgba(238, 255, 0, 0.25);
        }
        .notification-warning .notification-bar {
            background: #EEFF00;
            box-shadow: 0px 0px 4px 2px rgba(238, 255, 0, 0.61);
        }

        .notification-info {
            background: linear-gradient(97.75deg, rgba(47, 47, 47, 0.1911) -3.82%, rgba(0, 170, 255, 0.1407) 104.72%);
            border: 1px solid rgba(0, 170, 255, 0.61);
            box-shadow: 0px 0px 4px 2px rgba(0, 170, 255, 0.25);
        }
        .notification-info .notification-bar {
            background: #00AAFF;
            box-shadow: 0px 0px 4px 2px rgba(0, 170, 255, 0.61);
        }

        .notification-loading {
            background: linear-gradient(97.75deg, rgba(47, 47, 47, 0.1911) -3.82%, rgba(255, 255, 255, 0.1407) 104.72%);
            border: 1px solid rgba(255, 255, 255, 0.61);
            box-shadow: 0px 0px 4px 2px rgba(255, 255, 255, 0.25);
        }
        .notification-loading .notification-bar {
            background: #FFFFFF;
            box-shadow: 0px 0px 4px 2px rgba(255, 255, 255, 0.61);
        }

        /* Animação de Loading */
        .loading-dots {
            display: inline-flex;
            gap: 2px;
        }
        .loading-dots span {
            width: 3px;
            height: 3px;
            border-radius: 50%;
            background: white;
            animation: loading 1.4s infinite ease-in-out;
        }
        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }

        @keyframes loading {
            0%, 80%, 100% { opacity: 0.3; }
            40% { opacity: 1; }
        }

        /* Animações */
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        .notification-exit {
            animation: slideOutRight 0.3s ease-in forwards;
        }

        /* Progress Bar */
        .notification-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 0 0 7px 7px;
            overflow: hidden;
        }

        .notification-progress-bar {
            height: 100%;
            width: 100%;
            border-radius: 0 0 7px 7px;
            transform-origin: left;
            animation: progressBar 5s linear forwards;
        }

        @keyframes progressBar {
            from { transform: scaleX(1); }
            to { transform: scaleX(0); }
        }
    </style>
</head>
<body>
    <div class="notifications-container" id="notificationsContainer"></div>

    <script>
        class NotificationManager {
            constructor() {
                this.container = document.getElementById('notificationsContainer');
                this.notifications = new Set();
                
                // Ouvir mensagens do FiveM
                window.addEventListener('message', (event) => {
                    this.handleFiveMMessage(event.data);
                });

                // Exemplo de teste automático
                this.autoTest();
            }

            handleFiveMMessage(data) {
                if (data.action === 'notify') {
                    this.showNotification(data.message, data.type);
                }
            }

            showNotification(message, type = 'info') {
                const notification = this.createNotification(message, type);
                this.container.appendChild(notification);
                this.notifications.add(notification);

                // Auto-remover após 5 segundos
                setTimeout(() => {
                    this.removeNotification(notification);
                }, 5000);
            }

            createNotification(message, type) {
                const notification = document.createElement('div');
                notification.className = `notification-card notification-${type}`;

                const title = this.getTitleByType(type);
                const icon = this.getIconByType(type);

                notification.innerHTML = `
                    <div class="notification-bar"></div>
                    <div class="notification-content">
                        <div class="notification-title">
                            <span class="notification-icon">${icon}</span>
                            ${title}
                        </div>
                        <div class="notification-message">${message}</div>
                    </div>
                    <div class="notification-progress">
                        <div class="notification-progress-bar" style="background: ${this.getProgressColor(type)}"></div>
                    </div>
                `;

                return notification;
            }

            getTitleByType(type) {
                const titles = {
                    'success': 'Sucesso',
                    'error': 'Erro',
                    'warning': 'Warning',
                    'info': 'Info',
                    'loading': 'Loading'
                };
                return titles[type] || 'Info';
            }

            getIconByType(type) {
                const icons = {
                    'success': '✅',
                    'error': '❌',
                    'warning': '⚠️',
                    'info': 'ℹ️',
                    'loading': '<div class="loading-dots"><span></span><span></span><span></span></div>'
                };
                return icons[type] || 'ℹ️';
            }

            getProgressColor(type) {
                const colors = {
                    'success': '#11FF00',
                    'error': '#FF0000',
                    'warning': '#EEFF00',
                    'info': '#00AAFF',
                    'loading': '#FFFFFF'
                };
                return colors[type] || '#00AAFF';
            }

            removeNotification(notification) {
                if (this.notifications.has(notification)) {
                    notification.classList.add('notification-exit');
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                        this.notifications.delete(notification);
                    }, 300);
                }
            }

            // Teste automático das notificações
            autoTest() {
                setTimeout(() => {
                    this.showNotification('Não foi possível utilizar esta função!<br>Contate um administrador ou abra ticket em nosso discord!', 'error');
                }, 1000);

                setTimeout(() => {
                    this.showNotification('Teleporte para a localização personalizada feita com <strong>exito</strong>!', 'success');
                }, 2000);

                setTimeout(() => {
                    this.showNotification('Menu injetado com <strong>sucesso</strong>!<br>Agora basta configurar <strong>qual bind</strong> irá abrir o menu.', 'warning');
                }, 3000);

                setTimeout(() => {
                    this.showNotification('Menu injetado com <strong>sucesso</strong>!<br>Agora basta configurar <strong>qual bind</strong> irá abrir o menu.', 'info');
                }, 4000);

                setTimeout(() => {
                    this.showNotification('Menu injetado com <strong>sucesso</strong>!<br>Agora basta configurar <strong>qual bind</strong> irá abrir o menu.', 'loading');
                }, 5000);
            }
        }

        // Inicializar quando o DOM carregar
        document.addEventListener('DOMContentLoaded', () => {
            new NotificationManager();
        });

        // Função global para teste via console
        window.showTestNotification = (type = 'info') => {
            const messages = {
                'success': 'Operação realizada com sucesso!',
                'error': 'Ocorreu um erro na operação!',
                'warning': 'Atenção: Esta ação é importante!',
                'info': 'Informação relevante para o usuário!',
                'loading': 'Processando sua solicitação...'
            };
            
            const manager = new NotificationManager();
            manager.showNotification(messages[type], type);
        };
    </script>
</body>
</html>
