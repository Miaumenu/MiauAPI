-- ========================================
-- INFOBOX SIMPLES - MiauMenu
-- ========================================

local dui = nil

-- Inicializar
CreateThread(function()
    dui = CreateDui("https://miaumenu.github.io/MiauAPI/infobox.html", 400, 600)
    if dui then
        print("✅ Infobox MiauMenu pronta!")
        -- Teste inicial
        Wait(2000)
        SendDuiMessage(dui, json.encode({
            action = 'showNotification',
            message = "Sistema de notificações carregado!",
            type = 'success',
            duration = 3000
        }))
    end
end)

-- Função global para notificações
function Notify(message, type)
    if not dui then return end
    
    type = type or 'info'
    
    SendDuiMessage(dui, json.encode({
        action = 'showNotification',
        message = message,
        type = type,
        duration = 5000
    }))
end

-- Exemplo de uso em outros sistemas
RegisterCommand("sucesso", function()
    Notify("Missão concluída com <strong>sucesso</strong>!", "success")
end)

RegisterCommand("erro", function()
    Notify("Você não tem permissão para isso!", "error")
end)

RegisterCommand("aviso", function()
    Notify("Atenção: Área perigosa à frente!", "warning")
end)

-- Renderizar (opcional - apenas se quiser ver o DUI)
CreateThread(function()
    while true do
        if dui then
            local handle = GetDuiHandle(dui)
            if handle then
                DrawSprite("DUI_TXD", "DUI_TEX", 0.5, 0.5, 1.0, 1.0, 0.0, 255, 255, 255, 255)
            end
        end
        Wait(0)
    end
end)
