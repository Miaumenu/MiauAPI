<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiauMenu Infobox</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', Arial, sans-serif;
        }

        body {
            background: transparent;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: flex-end;
            align-items: flex-start;
            padding: 20px;
        }

        .notifications-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            width: 260px;
        }

        .notification {
            position: relative;
            width: 248px;
            min-height: 58px;
            padding: 8px 12px 8px 16px;
            border-radius: 7px;
            backdrop-filter: blur(10px);
            animation: slideInRight 0.3s ease-out;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .notification-bar {
            position: absolute;
            left: 4px;
            top: 6px;
            width: 3px;
            height: 46px;
            border-radius: 7px;
        }

        .notification-content {
            margin-left: 8px;
        }

        .notification-title {
            font-weight: 700;
            font-size: 11px;
            line-height: 13px;
            letter-spacing: -0.02em;
            margin-bottom: 2px;
            display: flex;
            align-items: center;
            gap: 4px;
            color: #FFFFFF;
        }

        .notification-message {
            font-weight: 600;
            font-size: 10px;
            line-height: 12px;
            letter-spacing: -0.02em;
            color: #FFFFFF;
            word-wrap: break-word;
        }

        /* Tipos de Notifica√ß√£o */
        .success {
            background: linear-gradient(97.75deg, rgba(47, 47, 47, 0.1911) -3.82%, rgba(17, 255, 0, 0.1407) 104.72%);
            border: 1px solid rgba(17, 255, 0, 0.61);
            box-shadow: 0px 0px 4px 2px rgba(17, 255, 0, 0.25);
        }
        .success .notification-bar {
            background: #11FF00;
            box-shadow: 0px 0px 4px 2px rgba(17, 255, 0, 0.25);
        }

        .error {
            background: linear-gradient(97.75deg, rgba(47, 47, 47, 0.1911) -3.82%, rgba(255, 0, 0, 0.1407) 104.72%);
            border: 1px solid rgba(255, 0, 0, 0.61);
            box-shadow: 0px 0px 4px 2px rgba(255, 0, 0, 0.25);
        }
        .error .notification-bar {
            background: #FF0000;
            box-shadow: 0px 0px 4px 2px rgba(255, 0, 0, 0.25);
        }

        .warning {
            background: linear-gradient(97.75deg, rgba(47, 47, 47, 0.1911) -3.82%, rgba(238, 255, 0, 0.1407) 104.72%);
            border: 1px solid rgba(238, 255, 0, 0.61);
            box-shadow: 0px 0px 4px 2px rgba(238, 255, 0, 0.25);
        }
        .warning .notification-bar {
            background: #EEFF00;
            box-shadow: 0px 0px 4px 2px rgba(238, 255, 0, 0.61);
        }

        .info {
            background: linear-gradient(97.75deg, rgba(47, 47, 47, 0.1911) -3.82%, rgba(0, 170, 255, 0.1407) 104.72%);
            border: 1px solid rgba(0, 170, 255, 0.61);
            box-shadow: 0px 0px 4px 2px rgba(0, 170, 255, 0.25);
        }
        .info .notification-bar {
            background: #00AAFF;
            box-shadow: 0px 0px 4px 2px rgba(0, 170, 255, 0.61);
        }

        .loading {
            background: linear-gradient(97.75deg, rgba(47, 47, 47, 0.1911) -3.82%, rgba(255, 255, 255, 0.1407) 104.72%);
            border: 1px solid rgba(255, 255, 255, 0.61);
            box-shadow: 0px 0px 4px 2px rgba(255, 255, 255, 0.25);
        }
        .loading .notification-bar {
            background: #FFFFFF;
            box-shadow: 0px 0px 4px 2px rgba(255, 255, 255, 0.61);
        }

        /* Anima√ß√µes */
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        .notification-exit {
            animation: slideOutRight 0.3s ease-in forwards;
        }

        /* Progress Bar */
        .progress-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: rgba(255, 255, 255, 0.2);
        }

        .progress-fill {
            height: 100%;
            width: 100%;
            animation: progress 5s linear forwards;
        }

        @keyframes progress {
            from { width: 100%; }
            to { width: 0%; }
        }

        .success .progress-fill { background: #11FF00; }
        .error .progress-fill { background: #FF0000; }
        .warning .progress-fill { background: #EEFF00; }
        .info .progress-fill { background: #00AAFF; }
        .loading .progress-fill { background: #FFFFFF; }

        /* Loading Animation */
        .loading-dots {
            display: inline-flex;
            gap: 2px;
        }
        .loading-dots span {
            width: 3px;
            height: 3px;
            border-radius: 50%;
            background: white;
            animation: loading 1.4s infinite ease-in-out;
        }
        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }

        @keyframes loading {
            0%, 80%, 100% { opacity: 0.3; }
            40% { opacity: 1; }
        }

        /* Bot√£o de Teste */
        .test-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #8b5cf6, #a855f7);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
        }

        .test-button:active {
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <button class="test-button" id="testButton">üéÆ Testar Notifica√ß√£o</button>
    <div class="notifications-container" id="notificationsContainer"></div>

    <script>
        class NotificationManager {
            constructor() {
                this.container = document.getElementById('notificationsContainer');
                this.notifications = new Set();
                this.testButton = document.getElementById('testButton');
                
                // Listen for FiveM messages
                window.addEventListener('message', (event) => {
                    this.handleFiveMMessage(event.data);
                });

                // Bot√£o de teste
                this.testButton.addEventListener('click', () => {
                    this.sendTestNotification();
                });

                console.log('üéØ MiauMenu Infobox carregada!');
            }

            handleFiveMMessage(data) {
                if (data.action === 'showNotification') {
                    this.showNotification(data.message, data.type, data.duration);
                }
            }

            sendTestNotification() {
                // Enviar mensagem para o FiveM
                fetch(`https://${GetParentResourceName()}/testNotification`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        type: 'info',
                        message: 'Teste via bot√£o'
                    })
                });
            }

            showNotification(message, type = 'info', duration = 5000) {
                const notification = this.createNotification(message, type);
                this.container.appendChild(notification);
                this.notifications.add(notification);

                // Auto remove after duration
                setTimeout(() => {
                    this.removeNotification(notification);
                }, duration);
            }

            createNotification(message, type) {
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;

                const title = this.getTitleByType(type);
                const icon = this.getIconByType(type);

                notification.innerHTML = `
                    <div class="notification-bar"></div>
                    <div class="notification-content">
                        <div class="notification-title">
                            <span>${icon}</span>
                            ${title}
                        </div>
                        <div class="notification-message">${message}</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                `;

                return notification;
            }

            getTitleByType(type) {
                const titles = {
                    'success': 'Sucesso',
                    'error': 'Erro',
                    'warning': 'Warning',
                    'info': 'Info',
                    'loading': 'Loading'
                };
                return titles[type] || 'Info';
            }

            getIconByType(type) {
                const icons = {
                    'success': '‚úÖ',
                    'error': '‚ùå',
                    'warning': '‚ö†Ô∏è',
                    'info': '‚ÑπÔ∏è',
                    'loading': '<div class="loading-dots"><span></span><span></span><span></span></div>'
                };
                return icons[type] || '‚ÑπÔ∏è';
            }

            removeNotification(notification) {
                if (this.notifications.has(notification)) {
                    notification.classList.add('notification-exit');
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                        this.notifications.delete(notification);
                    }, 300);
                }
            }
        }

        // Initialize when DOM loads
        document.addEventListener('DOMContentLoaded', () => {
            window.notificationManager = new NotificationManager();
            
            // Test notifications
            setTimeout(() => {
                window.notificationManager.showNotification('Sistema de notifica√ß√µes carregado com sucesso!', 'success', 3000);
            }, 1000);
        });

        // Global function for testing
        window.showTestNotification = (type = 'info') => {
            const messages = {
                'success': 'Opera√ß√£o realizada com sucesso!',
                'error': 'Ocorreu um erro na opera√ß√£o!',
                'warning': 'Aten√ß√£o: Esta a√ß√£o √© importante!',
                'info': 'Informa√ß√£o relevante para o usu√°rio!',
                'loading': 'Processando sua solicita√ß√£o...'
            };
            
            window.notificationManager.showNotification(messages[type], type);
        };
    </script>
</body>
</html>
